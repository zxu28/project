{"version":3,"sources":["../../../src/prebuild/resolveLocalTemplate.ts"],"sourcesContent":["import type { ExpoConfig } from '@expo/config';\nimport fs from 'fs';\nimport resolveFrom from 'resolve-from';\n\nimport { extractNpmTarballAsync } from '../utils/npm';\n\nconst debug = require('debug')('expo:prebuild:resolveLocalTemplate') as typeof console.log;\n\nexport async function resolveLocalTemplateAsync({\n  templateDirectory,\n  projectRoot,\n  exp,\n}: {\n  templateDirectory: string;\n  projectRoot: string;\n  exp: Pick<ExpoConfig, 'name'>;\n}): Promise<string> {\n  const templatePath = resolveFrom(projectRoot, 'expo/template.tgz');\n  debug('Using local template from Expo package:', templatePath);\n  const stream = fs.createReadStream(templatePath);\n  return await extractNpmTarballAsync(stream, {\n    cwd: templateDirectory,\n    name: exp.name,\n  });\n}\n"],"names":["resolveLocalTemplateAsync","debug","require","templateDirectory","projectRoot","exp","templatePath","resolveFrom","stream","fs","createReadStream","extractNpmTarballAsync","cwd","name"],"mappings":";;;;+BAQsBA;;;eAAAA;;;;gEAPP;;;;;;;gEACS;;;;;;qBAEe;;;;;;AAEvC,MAAMC,QAAQC,QAAQ,SAAS;AAExB,eAAeF,0BAA0B,EAC9CG,iBAAiB,EACjBC,WAAW,EACXC,GAAG,EAKJ;IACC,MAAMC,eAAeC,IAAAA,sBAAW,EAACH,aAAa;IAC9CH,MAAM,2CAA2CK;IACjD,MAAME,SAASC,aAAE,CAACC,gBAAgB,CAACJ;IACnC,OAAO,MAAMK,IAAAA,2BAAsB,EAACH,QAAQ;QAC1CI,KAAKT;QACLU,MAAMR,IAAIQ,IAAI;IAChB;AACF"}